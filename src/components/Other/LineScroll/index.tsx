import { useState, useEffect, useContext } from "react"; import { GlobalContext } from "@/context/globalContext"; import { StyledLineScroll, StyledLineScrollRoute, Text } from "./style"; const LineScroll = () => { const { router } = useContext(GlobalContext); const [scroll, setScroll] = useState(false); useEffect(() => { const handleScroll = () => { if (router.pathname === "/") { const isHashMatched = window.location.hash === "#work" || window.location.hash === "#contact" || window.location.hash === "#about"; setScroll(isHashMatched); } else if (router.pathname === "/about" || router.pathname === "/work") { const isScrolled = window.pageYOffset > 0; setScroll(isScrolled); } }; const handleHashChange = () => { if (router.pathname === "/") { handleScroll(); } }; handleScroll(); window.addEventListener('scroll', handleScroll); window.addEventListener('hashchange', handleHashChange); return () => { window.removeEventListener('scroll', handleScroll); window.removeEventListener('hashchange', handleHashChange); }; }, [router.pathname]); return ( <> <StyledLineScroll> <Text initial={{ bottom: scroll ? "5rem" : "-11rem" }} animate={{ bottom: scroll ? "-11rem" : "5rem" }} > Role para baixo </Text> </StyledLineScroll></> ); }; export default LineScroll;